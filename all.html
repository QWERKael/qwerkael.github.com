<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  阿勒西的小屋
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="阿勒西的小屋" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
 
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site: ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 阿勒西的小屋</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="self" href="index.html">Home</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="Tech.html">Tech</a></li>
        
            <li><a href="%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html">读书笔记</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15934181114037.html">
                
                  <h1><超越感觉：批判性思考指南>读书笔记</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>P.S.: 原文的摘录在笔记中会用 <strong><em>斜体加粗</em></strong> 表示</p>

<ul>
<li>
<a href="#toc_0">导论</a>
</li>
<li>
<a href="#toc_1">第一篇 背景</a>
<ul>
<li>
<a href="#toc_2">第一章 你是谁?</a>
<ul>
<li>
<a href="#toc_3">时间和地点的影响</a>
</li>
<li>
<a href="#toc_4">大众文化的影响</a>
</li>
<li>
<a href="#toc_5">操纵的“学问”</a>
</li>
<li>
<a href="#toc_6">心理学的影响</a>
</li>
<li>
<a href="#toc_7">成为个体</a>
</li>
</ul>
</li>
<li>
<a href="#toc_8">第二章　什么是批判性思考？</a>
<ul>
<li>
<a href="#toc_9">心智、大脑，抑或两者兼有？</a>
</li>
<li>
<a href="#toc_10">批判性思考的定义</a>
</li>
<li>
<a href="#toc_11">批判性思考者的特点</a>
</li>
<li>
<a href="#toc_12">直觉的作用</a>
</li>
<li>
<a href="#toc_13">批判性思考的基本活动</a>
</li>
<li>
<a href="#toc_14">批判性思考与写作</a>
</li>
<li>
<a href="#toc_15">批判性思考与讨论</a>
</li>
<li>
<a href="#toc_16">避免抄袭</a>
</li>
</ul>
</li>
<li>
<a href="#toc_17">第三章　真理是什么？</a>
<ul>
<li>
<a href="#toc_18">究竟始于何处？</a>
</li>
<li>
<a href="#toc_19">不完善的感知</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>


<h2 id="toc_0">导论</h2>

<p>导论介绍了本书的写作目的: 为读者 <strong><em>介绍批判性思考</em></strong></p>

<p>并且将本书的内容划分为3个部分:</p>

<ol>
<li>背景: 帮你正确理解一些概念</li>
<li>易犯的错误: 识别并避免常见的谬误</li>
<li>策略: 教你解决问题的技巧</li>
</ol>

<h2 id="toc_1">第一篇 背景</h2>

<p>本篇会讨论7个重要的概念: </p>

<ol>
<li>个性</li>
<li>批判性思考</li>
<li>真理</li>
<li>知识</li>
<li>观点</li>
<li>证据</li>
<li>论证</li>
</ol>

<h3 id="toc_2">第一章 你是谁?</h3>

<p>这一章是对&quot;个性&quot;概念的探讨<br/>
我们对自己的认知不仅包含客观的身高体重年龄, 也包括主观的情感和喜好.<br/>
而我们之所以能成为现在的我们, 不仅仅是&quot;<strong><em>由于我自己的选择</em></strong>&quot;.<br/>
事实上, &quot;<strong><em>世界对我们的影响远远超出了我们大多数人的认识</em></strong>&quot;</p>

<h4 id="toc_3">时间和地点的影响</h4>

<p>时代背景和生活的环境会塑造一个人<br/>
<strong><em>生活在不同的时代或文化背景下，会使你成为一个不同的人。即使你叛逆你所处的时间和空间的价值观，它们仍然会代表你生活的环境——换句话说，它们依然会影响你作出的反应。</em></strong></p>

<h4 id="toc_4">大众文化的影响</h4>

<p>大众文化: 广播媒体、报纸、杂志和流行音乐<br/>
特点: 影响力巨大, 且隐蔽<br/>
比如, 现代广告通过诉诸情感, 改造了我们的价值观: <strong><em>广告经常描绘消遣比工作更让人满足，自满比自制更令人渴望，物质主义比理想主义更有意义。</em></strong><br/>
比如, 电视节目, 通过不断地打断和转移我们的注意力, 并持续不断的为我们创造新的刺激来俘获观众, 同时也造成了我们无法长时间集中注意力.<br/>
比如, 越来越多的需要思考的书籍被消遣之作代替, 严谨的回答被简单的判断代替, 公正的报道被轰动的爆点代替, 政客们更关注的不是政策而是营销.<br/>
总之, 大众文化总是通过迎合我们的欲望来放大我们的缺点, 而这种影响不是突然地, 而是潜移默化的.</p>

<h4 id="toc_5">操纵的“学问”</h4>

<p>人们不仅会被操纵, 而且很容易被操纵, 人们之所以这么容易被操纵, 恰恰是因为人们相信&quot;<strong><em>自己不会被操纵</em></strong>&quot;<br/>
对于人而言, 不仅情感会被操作, 甚至记忆也会被操纵</p>

<h4 id="toc_6">心理学的影响</h4>

<p>心理学不仅在观察这我们的思想, 心理学也在改变着我们的思想<br/>
心理学家们从我们的思想中总结出规律并提出假设, 而一旦我们被其假说所说服, 我们的思想也会受到其支配</p>

<h4 id="toc_7">成为个体</h4>

<p>我们的个性不是与生俱来的, 而是后天不断地演化而来的.<br/>
而在演化的过程中, 不可避免的会受到他人和环境的影响.<br/>
在个性的演化过程中我们应该保持一个谨慎的态度, 并且遵循以下一些原则, 来保证我们能够成为一个真正的个体, 而不是被各种别有用心的信息操纵的人:</p>

<ol>
<li>你对任何信息的第一反应都应当是尝试性的, 而不是毫无保留的接受</li>
<li>思考你为何会作出此种反应</li>
<li>思考你还可以作出其他那些反应</li>
<li>判断是否有其他反应比第一反应恰当</li>
</ol>

<h3 id="toc_8">第二章　什么是批判性思考？</h3>

<p>什么是&quot;思考&quot;?<br/>
我们在日常生活中常常提及它, 却又很难给它下一个准确的定义<br/>
它包含的意涵广泛, &quot;<strong><em>从白日梦到反思和分析</em></strong>&quot;都可以被称为&quot;思考&quot;<br/>
人们总是被要求&quot;思考&quot;, 但是, 对于大多数人而言&quot;<strong><em>广泛、有效的思维训练是例外而非常规</em></strong>&quot;<br/>
<strong><em>我们大多数所谓的推理在于为继续相信我们已经相信的东西找到理由</em></strong></p>

<h4 id="toc_9">心智、大脑，抑或两者兼有？</h4>

<p>心智(mind)和大脑(brain)两者是否相同?<br/>
大脑(brain)是物质的, 而心智(mind)则是形而上的<br/>
<strong><em>大脑是思考的必要条件，但没有表明大脑是思考的充分条件</em></strong><br/>
心智是消极的还是积极的?<br/>
消极: 约翰·洛克（John Locke）认为心智是&quot;<strong><em>经验书写于其上的“白板”</em></strong>&quot;<br/>
积极: 莱布尼茨（G. W. Leibnitz）认为心智是&quot;<strong><em>我们用以采取主动并行使我们自由意志的工具</em></strong>&quot;</p>

<h4 id="toc_10">批判性思考的定义</h4>

<p>思考和感觉的区分<br/>
感觉是应激的主观反应<br/>
感觉不能代替思考, <strong><em>因为它极不可靠</em></strong><br/>
<strong><em>思考则是用以解决问题、作出决定或取得理解而进行的有意识的精神过程</em></strong><br/>
<strong><em>感觉和思考之间的关系，感觉需要检验才能信赖，而思考就是检验感觉最合理和最可靠的方法</em></strong><br/>
<strong><em>思考有两大类：创造性的和批判性的</em></strong><br/>
<strong><em>批判性思考的本质是评价</em></strong><br/>
<strong><em>批判性思考中所使用的最重要的技巧之一是提问探索性的问题</em></strong><br/>
<strong><em>非批判的思考者会接受他们自己最初的想法和他人陈述的表面价值，而批判的思考者则质疑所有的想法</em></strong><br/>
<strong><em>批判性思考也通过提出问题来分析议题</em></strong><br/>
总结一下, 本段主要讲了两个划分<br/>
其一, 是思考和感觉的划分, 他们的主要区分点是&quot;有意识&quot;还是&quot;无意识&quot;<br/>
感觉是无意识的(应激的)主观反应<br/>
思考是有意识的探索过程<br/>
其二, 是创造性思考和批判性思考的划分, 文中只讲了批判性思考, 而我又查了一些资料, 对创造性思考进行了自己的理解<br/>
我认为二者的主要区分点在于思考的对象<br/>
创造性思考是对未知的思考, 它可以是对未知事物的思考, 也可以是对已知事务的未知方面的思考<br/>
而批判性思考则是对已知的思考, 是对已知事务批判性的评价, 是对已知事务合理性的验证<br/>
到这里, 我们可以试着去定义一下什么是思考了,<br/>
在我看来, 思考就是对客观事物合理化的过程<br/>
既然有&quot;合理化&quot;, 那我们就应该先定义什么是&quot;合理&quot;, &quot;合理&quot;就像是数学中的公理一样, 不证自明. 我们会根据我们自身的经验为理解世界设定一些&quot;公理&quot;, 这是我们理解世界的基础, 但这并不意味着我们的这些理念就是正确的.<br/>
这其实就像是&quot;拟合&quot;<br/>
创造性思维就是用我们的&quot;公理&quot;去解释未知的事物<br/>
而批判性思维就是, 我们如何评价别人的解释</p>

<h4 id="toc_11">批判性思考者的特点</h4>

<p>对于批判性思维的四个误解</p>

<ol>
<li><strong><em>认为，能够通过推理来支持自己的信念，就可成为批判性思考者</em></strong>
还要看推理是否合理和充分</li>
<li><strong><em>批判性思考者从不模仿他人的思想和行动</em></strong>
重要的是合理而不是独特</li>
<li><strong><em>批判性思考是一个人头脑中拥有许多正确答案的同义语</em></strong>
思维主要是寻找答案的过程, 而且很难评判什么是&quot;正确答案&quot;</li>
<li><strong><em>批判性思考不能通过学习来获得，人们要么“有”、要么没有批判性思考</em></strong>
<strong><em>批判性思考是一个习惯问题</em></strong>, 是可以后天培养的</li>
</ol>

<p>批判性思考者的两个特征</p>

<ol>
<li><strong><em>提出恰当问题的技巧</em></strong></li>
<li><strong><em>学会如何控制自己的思想，积极和消极地运用心智</em></strong></li>
</ol>

<p>批判性思考者往往有这样一些特点<br/>
有清晰的自我认知, 不回避问题和争议, 并保持好奇心和耐心, 理性客观, 愿意倾听, 不极端, 克制情感</p>

<h4 id="toc_12">直觉的作用</h4>

<p>直觉是我们对事物的直观感受<br/>
有时直觉可以帮助我们处理问题, 但是它有着一些局限性:</p>

<ol>
<li>即是直觉能够帮助我们处理一些问题, 但是这也是建立在我们平时的良好的思维训练的基础上</li>
<li>直觉有可能出错</li>
<li>由于幸存者偏差, 我们很难对直觉作出客观评价</li>
</ol>

<p>有些学者认为, 所谓的直觉, 只是我们没有意识到我们进行了思考</p>

<h4 id="toc_13">批判性思考的基本活动</h4>

<p>思考的顺序应该是<br/>
调查(收集证据) -&gt; 解释(整理证据) -&gt; 判断(得出结论)<br/>
在这个过程中, 我们可以先假设然后再论证<br/>
但是不能用预设立场去干扰推理</p>

<h4 id="toc_14">批判性思考与写作</h4>

<p>写作有两个作用:</p>

<ol>
<li>发现思想</li>
<li>交流思想</li>
</ol>

<p>对于&quot;发现思想&quot;而言, 写作可以帮助我们记录思维的过程, 由此可以更好的发散思维并验证</p>

<h4 id="toc_15">批判性思考与讨论</h4>

<p>讨论一定会带来矛盾, 这种矛盾一方面会促进我们解决问题和决策, 另一方面也会带来情绪上的对立<br/>
为了促成前者而避免后者, 我们应当遵循一些原则</p>

<ol>
<li><strong><em>只要可能，就提前做准备</em></strong></li>
<li><strong><em>设定合理的预期</em></strong>: 不要期望自己一定能说服对手</li>
<li><strong><em>抛弃自我中心和个人议程</em></strong>: 尊重别人的观点</li>
<li><strong><em>起作用但不主导一切</em></strong>: 适度的发表自己的观点, 不要过于滔滔不绝, 要不要过于沉默</li>
<li><strong><em>避免分散注意力的讲话习惯</em></strong>: 你的表达要<strong><em>清晰明了、直截了当和经济有效</em></strong></li>
<li><strong><em>积极的倾听</em></strong>: 倾听, 并保持注意力</li>
<li><strong><em>负责任地判断思想</em></strong>: 审慎的思考, 而不是简单地感觉</li>
<li><strong><em>抵制喊叫或打断的冲动</em></strong></li>
</ol>

<h4 id="toc_16">避免抄袭</h4>

<p>避免不经意间的抄袭</p>

<ol>
<li><strong><em>当你研究一个课题时，把其他来源的思想与你自己的思想区分开来</em></strong>
查阅资料时, 把每条信息的来源都记录下来</li>
<li><strong><em>当你阅读每个资料来源时，用笔记记下你想在自己的写作中引用的思想</em></strong>
可以用圆括号标注引用的信息源, 用方括号标注自己对引述的评价</li>
<li><strong><em>你在写论文时，通过审慎地运用引语和改述来把借用的思想和语言加入你自己的作品中。</em></strong></li>
</ol>

<h3 id="toc_17">第三章　真理是什么？</h3>

<p>过去人们常常谈论 <strong><em>绝对真理</em></strong> <br/>
有人相信它存在, 认为它是一种精神实在, 这些人中有人认为它可以被认知, 另一些则认为它不能被认知<br/>
而另外一些人则干脆认为它不存在, 认为它只是一个空洞的观念<br/>
现在人们所谈论的所谓&quot;真理&quot;更相对和主观, 也不注重检验其合理性</p>

<h4 id="toc_18">究竟始于何处？</h4>

<p>在孩提时代, 我们对世界的理解往往依赖于外界的灌输(比如, 父母), 虽然成年以后我们能够依赖自己的判断去认知世界, 但是童年时被灌输的观点依然后影响我们一生</p>

<h4 id="toc_19">不完善的感知</h4>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2020/06/29</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html'>读书笔记</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15934177615172.html">
                
                  <h1>< MySQL Innternals Manual >阅读笔记</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ul>
<li>
<a href="#toc_0">Chapter 1 A Guided Tour Of The MySQL Source Code</a>
<ul>
<li>
<a href="#toc_1">1.1 Getting the Source Tree</a>
</li>
<li>
<a href="#toc_2">1.2 The Major Directories</a>
<ul>
<li>
<a href="#toc_3">1.2.1 Major Directories: BUILD</a>
<ul>
<li>
<a href="#toc_4">1.2.1.1 GNU Debugger</a>
</li>
<li>
<a href="#toc_5">1.2.1.2 Running a Test with the Debugger</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


<h2 id="toc_0">Chapter 1 A Guided Tour Of The MySQL Source Code</h2>

<p>这一章主要是讲MySQL源码的各个目录和其作用</p>

<h3 id="toc_1">1.1 Getting the Source Tree</h3>

<ol>
<li><p>从GitHub克隆MySQL源码</p>
<pre><code class="language-shell">me@mymachine:~$ git clone https://github.com/mysql/mysql-server.git 
# 在国内可以使用镜像, 速度会快一点<br/>
git clone https://github.com.cnpmjs.org/mysql/mysql-server.git
</code></pre></li>
<li><p>在mysql-server的目录中可以查看源码的目录结构</p>
<pre><code class="language-shell">me@mymachine:~$ cd mysql-server
me@mymachine:~/mysql-server$ ls<br/>
BUILD            COPYING             libmysqld    regex          tests<br/>
BUILD-CMAKE      dbug                libservices  scripts        unittest<br/>
client           Docs                man          sql            VERSION<br/>
cmake            extra               mysql-test   sql-bench      vio<br/>
CMakeLists.txt   include             mysys        sql-common     win<br/>
cmd-line-utils   INSTALL-SOURCE      packaging    storage        zlib<br/>
config.h.cmake   INSTALL-WIN-SOURCE  plugin       strings<br/>
configure.cmake  libmysql            README       support-files
</code></pre></li>
<li><p>使用<code>git branch -r</code>查看“remote-tracking”分支</p>
<pre><code class="language-shell">~/mysql-server$ git branch -r
origin/5.5<br/>
origin/5.6<br/>
origin/5.7<br/>
origin/HEAD -&gt; origin/5.7
</code></pre></li>
<li><p>使用<code>get branch</code>查看当前分支</p>
<pre><code class="language-shell">~/mysql-server$ git branch
* 5.7
</code></pre></li>
<li><p>使用<code>git checkout</code>迁出指定分支</p>
<pre><code class="language-shell">~/mysql-server$ git checkout 5.6
Branch 5.6 set up to track remote branch 5.6 from origin.<br/>
Switched to a new branch &#39;5.6&#39;<br/>
me@mymachine:~/mysql-server$ git checkout 5.5<br/>
Branch 5.5 set up to track remote branch 5.5 from origin.<br/>
Switched to a new branch &#39;5.5&#39;
</code></pre></li>
<li><p>再次使用<code>git branch</code>查看当前的所有分支, 可以看到, 一共有3个分支, 5.5是当前分支</p>
<pre><code class="language-shell">~/mysql-server$ git branch
* 5.5<br/>
5.6<br/>
5.7
</code></pre></li>
</ol>

<h3 id="toc_2">1.2 The Major Directories</h3>

<p>这一章介绍7个主要的目录</p>

<h4 id="toc_3">1.2.1 Major Directories: BUILD</h4>

<p><code>BUILD</code>目录负责编译和连接</p>

<pre><code class="language-shell">shell&gt; ./BUILD/compile-pentium-debug --prefix=$HOME/mysql-bin
</code></pre>

<p>这个命令会调用一个批处理文件生成MySQL的服务端和客户端的可执行程序<br/>
如果缺少相应的依赖包, 会执行失败<br/>
编译完后, 使用以下命令安装</p>

<pre><code class="language-shell">shell&gt; make
shell&gt; make install
shell&gt; $HOME/mysql-bin/scripts/mysql_install_db \
 --basedir=$HOME/mysql-bin \
 --datadir=$HOME/mysql-bin/var
</code></pre>

<h5 id="toc_4">1.2.1.1 GNU Debugger</h5>

<p>推荐通过<a href="http://www.gnu.org/software/gdb/documentation/">gdb(GNU debugger)</a>调试运行中的程序<br/>
也可以使用图形化的调试工具<a href="http://www.gnu.org/software/ddd/manual/">DDD(Data Display Debugger)</a><br/>
使用以下命令调试mysqld服务</p>

<pre><code class="language-shell">shell&gt; ddd --gdb --args \
     $HOME/mysql-bin/libexec/mysqld \
     --basedir=$HOME/mysql-bin \
     --datadir=$HOME/mysql-bin/var\
     --skip-networking
</code></pre>

<h5 id="toc_5">1.2.1.2 Running a Test with the Debugger</h5>

<p>通过嵌入模式运行一个名为<code>some.test</code>的测试:</p>

<ol>
<li>运行<code>libmysqld/examples/test_run --gdb some.test</code>命令来创建一个<code>libmysqld/examples/test-gdbinit</code>文件, 这个文件包含了<code>mysqltest</code>所需的参数</li>
<li></li>
</ol>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2020/06/29</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Tech.html'>Tech</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15934194114231.html">
                
                  <h1>为InnoDB存储引擎配置内存分配器</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<blockquote>
<p>这是一篇MySQL官方文档的翻译，是我在查阅InnoDB额外内存池相关资料时找到的</p>
</blockquote>

<p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-performance-use_sys_malloc.html">原文链接</a></p>

<h2 id="toc_0">14.6.4 Configuring the Memory Allocator for InnoDB</h2>

<blockquote>
<p>14.6.4 为InnoDB存储引擎配置内存分配器</p>
</blockquote>

<p>​When InnoDB was developed, the memory allocators supplied with operating systems and run-time libraries were often lacking in performance and scalability. At that time, there were no memory allocator libraries tuned for multi-core CPUs. Therefore, InnoDB implemented its own memory allocator in the mem subsystem. This allocator is guarded by a single mutex, which may become a bottleneck. InnoDB also implements a wrapper interface around the system allocator (malloc and free) that is likewise guarded by a single mutex.</p>

<blockquote>
<p>在InnoDB存储引擎被开发时，操作系统和运行时库所提供的内存分配器在性能和扩展性上都表现欠佳。当时并没有针对多核CPU调优的内存分配器库。因此，InnoDB在mem子系统中自己实现了一个内存分配器。这个分配器被一个单一的互斥锁保护着，而这则可能会导致瓶颈。InnoDB也实现了一个基于系统分配器（malloc和free）的包装接口，同样的，也被单一互斥锁保护着。</p>
</blockquote>

<p>Today, as multi-core systems have become more widely available, and as operating systems have matured, significant improvements have been made in the memory allocators provided with operating systems. These new memory allocators perform better and are more scalable than they were in the past. Most workloads, especially those where memory is frequently allocated and released (such as multi-table joins), benefit from using a more highly tuned memory allocator as opposed to the internal, InnoDB-specific memory allocator.</p>

<blockquote>
<p>现在，随着多核系统的广泛应用和操作系统的不断成熟，操作系统所提供的内存分配器也取得了重大的进步。新的内存分配器在性能和扩展性方面都比之前的要更加优异。在大多数的工作负载（尤其是需要频繁的分配和释放内存的）场景下，使用经过高度调优的内存分配器要比使用InnoDB特定的内置的内存分配器效果更好。</p>
</blockquote>

<p>​You can control whether InnoDB uses its own memory allocator or an allocator of the operating system, by setting the value of the system configuration parameterinnodb_use_sys_malloc in the MySQL option file (my.cnf or my.ini). If set to ON or 1 (the default), InnoDB uses the malloc and freefunctions of the underlying system rather than manage memory pools itself. This parameter is not dynamic, and takes effect only when the system is started. To continue to use the InnoDB memory allocator, set innodb_use_sys_malloc to 0.</p>

<blockquote>
<p>你可以通过配置MySQL配置文件（my.cnf or my.ini）中的innodb_use_sys_malloc参数来控制InnoDB是使用自带的内存分配器还是使用操作系统提供的内存分配器。如果参数被设置为ON或者1（这也是默认值），InnoDB会使用当前系统下的malloc和free函数，而不是维护一个自己的内存池。这个参数并非是动态的，它会随着系统的启动而生效。将innodb_use_sys_malloc设置为0，则会继续使用InnoDB的内存分配器。</p>
</blockquote>

<p>​When the InnoDB memory allocator is disabled, InnoDB ignores the value of the parameter innodb_additional_mem_pool_size. The InnoDB memory allocator uses an additional memory pool for satisfying allocation requests without having to fall back to the system memory allocator. When the InnoDB memory allocator is disabled, all such allocation requests are fulfilled by the system memory allocator.</p>

<blockquote>
<p>当InnoDB内存分配器被关闭是，InnoDB会忽略innodb_additional_mem_pool_size参数的值。InnoDB内存分配器使用一个额外的内存池来满足分配请求，而不必依赖于系统的内存分配器。而当InnoDB内存分配器不可用时，所有的分配请求都将由系统的内存分配器来满足。</p>
</blockquote>

<p>​On Unix-like systems that use dynamic linking, replacing the memory allocator may be as easy as making the environment variable LD_PRELOAD or LD_LIBRARY_PATH point to the dynamic library that implements the allocator. On other systems, some relinking may be necessary. Please refer to the documentation of the memory allocator library of your choice.</p>

<blockquote>
<p>在使用动态链接的类Unix系统上，替换内存分配器很简单，只要将环境变量LD_PRELOAD or LD_LIBRARY_PATH指向实现了分配器的动态库就行。在其他系统中则需要重新连接。请参考你所选择的内存分配器库的相关文档。</p>
</blockquote>

<p>​Since InnoDB cannot track all memory use when the system memory allocator is used (innodb_use_sys_malloc is ON), the section “BUFFER POOL AND MEMORY” in the output of the SHOW ENGINE INNODB STATUS command only includes the buffer pool statistics in the “Total memory allocated”. Any memory allocated using the mem subsystem or using ut_malloc is excluded.</p>

<blockquote>
<p>当使用系统内存分配器（innodb_use_sys_malloc设为ON）时，InnoDB无法跟踪内存的使用，因此在使用SHOW ENGINE INNODB STATUS命令查看输出中的BUFFER POOL AND MEMORY信息时“Total memory allocated”仅包含了缓冲池（buffer pool）的统计。而没有使用mem子系统或者ut_malloc的内存分配。</p>
</blockquote>

<p>Note</p>

<p>​innodb_use_sys_malloc and innodb_additional_mem_pool_size were deprecated in MySQL 5.6 and removed in MySQL 5.7.</p>

<blockquote>
<p>innodb_use_sys_malloc和innodb_additional_mem_pool_size在MySQL 5.6中被弃用，在MySQL 5.7中被移除。</p>
</blockquote>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2018/03/22</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Tech.html'>Tech</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15934197733993.html">
                
                  <h1>同步MySQL增量数据到ClickHouse</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<ul>
<li>
<a href="#toc_0">安装</a>
<ul>
<li>
<a href="#toc_1">kafka</a>
</li>
<li>
<a href="#toc_2">Maxwell</a>
</li>
<li>
<a href="#toc_3">clickhouse</a>
</li>
</ul>
</li>
<li>
<a href="#toc_4">同步数据</a>
<ul>
<li>
<a href="#toc_5">使用Python从kafka导入数据到clickhouse</a>
</li>
</ul>
</li>
</ul>


<h2 id="toc_0">安装</h2>

<h3 id="toc_1">kafka</h3>

<p><code>kafka</code>的安装只需要下载、解压、启动即可</p>

<pre><code class="language-shell">wget http://mirror.its.dal.ca/apache/kafka/1.0.0/kafka_2.11-1.0.0.tgz
tar -zxf kafka_2.11-1.0.0.tgz 
cd kafka_2.11-1.0.0/
</code></pre>

<p><code>kafka</code>需要依赖于<code>zk</code>，<code>zk</code>可以直接使用<code>kafka</code>安装包里自带的<code>zk</code>。</p>

<pre><code class="language-shell">bin/zookeeper-server-start.sh config/zookeeper.properties &amp;
</code></pre>

<p>但是在启动之前，我们可能需要先修改一下配置文件<code>config/server.properties</code><br/>
一般需要修改的几个参数有</p>

<pre><code class="language-shell"># kafka broker的id
broker.id=0
# kafka监听的地址
listeners=PLAINTEXT://:9092
# kafka的日志地址
log.dirs=/tmp/kafka-logs
# kafka使用的zk的地址
zookeeper.connect=localhost:2181
</code></pre>

<p>启动<code>broker</code></p>

<pre><code class="language-shell">bin/kafka-server-start.sh config/server.properties &amp;
</code></pre>

<p>查看<code>kafka</code>是否启动了</p>

<pre><code class="language-shell">$ jps
1240 QuorumPeerMain
1817 Jps
1518 Kafka
</code></pre>

<p>上面的<code>QuorumPeerMain</code>就是<code>zk</code>，<code>Kafka</code>就是我们刚才启动的<code>broker</code><br/>
我们还可以在启动两个新<code>broker</code>，但是需要先复制配置文件并修改里面的<code>broker.id</code>、<code>listeners</code>、<code>log.dirs</code>值，使之不冲突</p>

<pre><code class="language-shell">bin/kafka-server-start.sh config/server-1.properties &amp;
bin/kafka-server-start.sh config/server-2.properties &amp;
</code></pre>

<p>然后我们可以测试一些简单的操作<br/>
创建名为<code>test</code>的<code>topic</code>，只有一个分区，一个副本</p>

<pre><code class="language-shell">bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --partitons 1 --topic test
</code></pre>

<p>查看<code>topic</code></p>

<pre><code class="language-shell">bin/kafka-topics.sh --list --zookeeper 127.0.0.1:2181
</code></pre>

<p>查看<code>test</code>的分区和副本状态</p>

<pre><code class="language-shell">bin/kafka-topics.sh --describe --zookeeper 127.0.0.1:2181 --topic test
</code></pre>

<p>使用生产者推送消息</p>

<pre><code class="language-shell">bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test
</code></pre>

<p>然后打开另一个窗口，使用消费者从开始获取消息</p>

<pre><code class="language-shell">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning
</code></pre>

<h3 id="toc_2">Maxwell</h3>

<p>关于<code>Maxwell</code>的相关资料可以直接查看<a href="http://maxwells-daemon.io/">官网</a><br/>
下载并解压<code>maxwell</code></p>

<pre><code class="language-shell">wget https://github.com/zendesk/maxwell/releases/download/v1.13.2/maxwell-1.13.2.tar.gz
tar -zxf maxwell-1.13.2.tar.gz
cd maxwell-1.13.2
</code></pre>

<p>在<code>mysql</code>中创建一个<code>maxwell</code>账户</p>

<pre><code class="language-sql">GRANT ALL on maxwell.* to &#39;maxwell&#39;@&#39;%&#39; identified by &#39;XXXXXX&#39;;
GRANT SELECT, REPLICATION CLIENT, REPLICATION SLAVE on *.* to &#39;maxwell&#39;@&#39;%&#39;;
</code></pre>

<p>拷贝一份配置文件的模板<code>config.properties.example</code></p>

<pre><code class="language-shell">cp config.properties.example config.properties
</code></pre>

<p>然后编辑配置文件，并将<code>ddl操作</code>发送给单独的<code>topic</code></p>

<pre><code class="language-ini"># tl;dr config
log_level=info
producer=kafka
kafka.bootstrap.servers=localhost:9092

# mysql login info
host=localhost
user=maxwell
password=maxwell

######### output format stuff ###############
# 记录binlog position（默认关闭）
output_binlog_position=true
# 记录gtid（默认关闭）
output_gtid_position=true
# 记录空值字段（默认开启）
output_nulls=true
# 记录server_id（默认关闭）
output_server_id=true
# 记录thread_id（默认关闭）
output_thread_id=true
# 记录原始的SQL语句，需要在mysql中打开参数&quot;binlog_rows_query_log_events&quot; must be enabled&quot;（默认关闭）
output_row_query=true
# 记录commit和xid信息（默认开启）
output_commit_info=true
# 记录ddl操作
output_ddl=true

######### kafka stuff ###############
# binlog日志解析到的topic
kafka_topic=maxwell
# ddl操作的binlog日志解析到的topic，需要开启前面的output_ddl选项
ddl_kafka_topic=maxwell_ddl
</code></pre>

<p>为<code>maxwell</code>创建<code>topic</code></p>

<pre><code class="language-shell">bin/kafka-topics.sh --zookeeper 127.0.0.1:2181 --create --topic maxwell --partitions 20 --replication-factor 1
bin/kafka-topics.sh --zookeeper 127.0.0.1:2181 --create --topic maxwell_ddl --partitions 1 --replication-factor 1
</code></pre>

<p>使用配置文件启动<code>maxwell</code></p>

<pre><code class="language-shell">bin/maxwell --config=config.properties &amp;
</code></pre>

<p>现在我们可以修改数据库的数据，然后在kafka目录下观察队列中的数据</p>

<pre><code class="language-shell"># 在kafka中查看binlog的变化
bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic maxwell --from-beginning
# 在kafka中查看ddl的binlog的变化
bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic maxwell_ddl --from-beginning
</code></pre>

<h3 id="toc_3">clickhouse</h3>

<p><a href="https://clickhouse.yandex/#quick-start">官方文档</a>直接提供了使用<code>apt-get</code>安装的方法<br/>
但是官方并没有提供<code>yum</code>的安装方法，我这里使用了<a href="https://github.com/red-soft-ru/clickhouse-rpm">第三方</a>提供的仓库，</p>

<pre><code class="language-shell"># 安装yum-config-manager程序
yum install yum-utils
# centos 6 的仓库
yum-config-manager --add-repo http://repo.red-soft.biz/repos/clickhouse/repo/clickhouse-el6.repo
# centos 7 的仓库
yum-config-manager --add-repo http://repo.red-soft.biz/repos/clickhouse/repo/clickhouse-el7.repo
# 安装软件包
yum install clickhouse-server clickhouse-client clickhouse-server-common clickhouse-compressor
</code></pre>

<p>修改配置文件<code>vim /etc/clickhouse-server/config.xml</code></p>

<pre><code class="language-shell">...
&lt;!-- 修改监听IP --&gt;
&lt;listen_host&gt;::&lt;/listen_host&gt;
   &lt;listen_host&gt;0.0.0.0&lt;/listen_host&gt;

...

   &lt;!-- 修改数据路径 --&gt;
   &lt;path&gt;/data/clickhouse/&lt;/path&gt;
   &lt;tmp_path&gt;/data/clickhouse/tmp/&lt;/tmp_path&gt;
...
</code></pre>

<p>启动服务</p>

<pre><code class="language-shell">service clickhouse-server start
</code></pre>

<p>进入<code>clickhouse</code></p>

<pre><code class="language-shell">clickhouse-client -mn
</code></pre>

<p>创建</p>

<pre><code class="language-sql">CREATE TABLE data_record.row_record ( 
    r_date Date,  
    database String,  
    table String,  
    type String,  
    ts Int64,  
    xid Int64,  
    position String,  
    gtid Nullable(String),  
    server_id Int64,  
    thread_id Int64,  
    data String,  
    old String) ENGINE = MergeTree(r_date, (r_date, database, table), 8192)
</code></pre>

<h2 id="toc_4">同步数据</h2>

<h3 id="toc_5">使用Python从kafka导入数据到clickhouse</h3>

<p>下面是一个简单的例子</p>

<pre><code class="language-python"># -*- coding: utf-8 -*-
from confluent_kafka import Consumer, KafkaError
import clickhouse_driver
import logging
import json
import datetime


class ChWriter(object):
    def __init__(self, setting):
        self.conn = clickhouse_driver.Client(**setting)

    def ch_insert(self, sql, dicts):
        &quot;&quot;&quot;插入数据&quot;&quot;&quot;
        self.conn.execute(sql, dicts)


def prefunc(data):
    data[&#39;r_date&#39;] = datetime.datetime.fromtimestamp(data[&#39;ts&#39;]).date()
    print(&#39;timestamp:&#39;, data[&#39;ts&#39;], &#39;\n&#39;, &#39;date:&#39;, data[&#39;r_date&#39;])
    data[&#39;gtid&#39;] = None
    data[&#39;data&#39;] = str(data[&#39;data&#39;])
    if &#39;position&#39; not in data: data[&#39;position&#39;] = &#39;&#39;
    if &#39;server_id&#39; not in data: data[&#39;server_id&#39;] = 0
    if &#39;thread_id&#39; not in data: data[&#39;thread_id&#39;] = 0
    if data[&#39;type&#39;] == &#39;update&#39;:
        data[&#39;old&#39;] = str(data[&#39;old&#39;])
    else:
        data[&#39;old&#39;] = &#39;&#39;
    return data


if __name__ == &quot;__main__&quot;:
    # logging.basicConfig(filename=&#39;example.log&#39;, level=logging.DEBUG)
    logging.basicConfig(level=logging.DEBUG, format=&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;)

    ch_setting = {
        &#39;host&#39;: &#39;10.10.4.103&#39;,
        &#39;port&#39;: 9000,
        &#39;user&#39;: &#39;default&#39;,
        &#39;password&#39;: &#39;&#39;,
    }

    chw = ChWriter(ch_setting)
    sql = &quot;INSERT INTO `data_record`.`row_record`(r_date,database,table,type,ts,xid,position,gtid,server_id,thread_id,data,old) VALUES&quot;

    c = Consumer({&#39;bootstrap.servers&#39;: &#39;10.10.4.103:9093&#39;, &#39;group.id&#39;: &#39;0&#39;,
                  &#39;default.topic.config&#39;: {&#39;auto.offset.reset&#39;: &#39;smallest&#39;}})
    c.subscribe([&#39;maxwell&#39;])
    running = True
    while running:
        msg = c.poll()
        if not msg.error():
            r_data = msg.value().decode(&#39;utf-8&#39;)
            print(&#39;Received message: %s&#39; % r_data)
            data = json.loads(r_data)
            prefunc(data)
            chw.ch_insert(sql, [data])
        elif msg.error().code() != KafkaError._PARTITION_EOF:
            print(msg.error())
            running = False
    c.close()
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2018/02/26</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Tech.html'>Tech</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15934208816740.html">
                
                  <h1>python中的迭代</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>在<code>python</code>中，迭代是一个很重要的概念，当我们使用各种循环的时候，我们就会用到这个概念，比如：<code>for循环</code>。</p>

<p>而<code>for</code>是如何工作的？自己如何在类中实现迭代？下面我们就来了解一下：</p>

<p>首先，我们要了解几个概念：<code>迭代</code>、<code>可迭代对象</code>、<code>迭代器</code>。</p>

<p><code>迭代</code>是一种惰性获取数据的方式，每次返回一个值。</p>

<p><code>可迭代对象</code>，按照字面意思就是可迭代的对象，在<code>Python</code>中，一个可迭代对象都可以通过内置函数<code>iter()</code>返回一个迭代器。而<code>iter()</code>函数则会检查对象中有没有实现<code>__iter__()</code>函数，如果有则调用<code>__iter__()</code>返回一个可迭代对象，如果没有，则检查是否实现了<code>__getitem__()</code>函数，如果有则根据__getitem__()函数生成一个迭代器，按顺序获取元素，如果都没有，则抛出异常，表明对象不可迭代。</p>

<p><code>迭代器</code>实现了<code>__next__()</code>函数，可以返回下一个元素，如果没有下一个元素则返回<code>StopIteration</code>的异常。</p>

<p>而我们在提起迭代器的时候，通常还会提起另一个概念<code>生成器</code>。</p>

<p><code>生成器</code>是一种特殊的迭代器，它能够更优雅的实现迭代器的功能。生成器的特征是使用yield关键字，而不使用<code>__iter__()</code>和<code>__next__()</code>内置函数。</p>

<pre><code class="language-python"># 返回从0开始整数的累加值，大于100结束
# 迭代器
class myIter():
    def __init__(self):
        self.count = 0
        self.sum = 0

    def __iter__(self):
        return self

    def __next__(self):
        self.sum += self.count
        self.count += 1
        return self.sum


if __name__ == &quot;__main__&quot;:
    a = myIter()
    for i in a:
        print(i)
        if i &gt; 100:
            break
</code></pre>

<pre><code class="language-python"># 返回从0开始整数的累加值，大于100结束
# 生成器
def myGen():
    count, sum = 0, 0
    while True:
        yield sum
        count += 1
        sum += count


if __name__ == &quot;__main__&quot;:
    a = myGen()
    for i in a:
        print(i)
        if i &gt; 100:
            break
</code></pre>

<p>我们可以看到使用<code>生成器</code>实现的代码看起来更简介，更pythonic。</p>

<p>使用<code>迭代器</code>时我们需要先创建一个类，然后在类里实现<code>__iter__()</code>和<code>__next__()</code>两个内置函数。</p>

<p>而使用<code>生成器</code>时，我们只需要定义一个函数，在函数中使用<code>yield</code>做返回，也不需要<code>return</code>。</p>

<p>同样的还有<code>生成器表达式</code>，它看起来像一个<code>列表表达式</code>，但是它使用的是<code>()</code>而不是<code>[]</code>，并且它返回的是一个<code>生成器对象</code>，而不是<code>列表</code>。</p>

<pre><code class="language-python"># 列表表达式
[x+1 for x in range(10)]
# 生成器表达式
(x+1 for x in range(10))
</code></pre>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2018/01/23</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Python.html'>Python</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_1.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>阿勒西的小屋</h1>
                <div class="site-des"></div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Tech.html"><strong>Tech</strong></a>
        
            <a href="%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.html"><strong>读书笔记</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15934181114037.html"><超越感觉：批判性思考指南>读书笔记</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15934177615172.html">< MySQL Innternals Manual >阅读笔记</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15934194114231.html">为InnoDB存储引擎配置内存分配器</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15934197733993.html">同步MySQL增量数据到ClickHouse</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15934208816740.html">python中的迭代</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>



  














<style type="text/css">
figure{margin: 0;padding: 0;}
figcaption{text-align:center;}

/* PrismJS 1.14.0
 http://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
    color: black;
    background: none;
    text-shadow: 0 1px white;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
    
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
    text-shadow: none;
    background:#b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
    text-shadow: none;
    background: #b3d4fc;
}

@media print {
    code[class*="language-"],
    pre[class*="language-"] {
        text-shadow: none;
    }
}

/* Code blocks */
pre[class*="language-"] {
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
    background: #F7F7F7;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    padding: .1em;
    border-radius: .3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: slategray;
}

.token.punctuation {
    color: #999;
}

.namespace {
    opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
    color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: #9a6e3a;
    background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: #07a;
}

.token.function,
.token.class-name {
    color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
    color: #e90;
}

.token.important,
.token.bold {
    font-weight: bold;
}
.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}


pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>



  </body>
</html>
